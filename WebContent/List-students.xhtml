<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
xmlns:f="http://java.sun.com/jsf/core">

<f:metadata>
	<f:event type="preRenderView"
	listener="#{studentManager.loadStudents()}"/>
</f:metadata>

<head>
 	<title><ui:insert name="title">WebStudentBook</ui:insert></title>
</head>

<body style="background:linear-gradient(to right,grey,white,grey);text-align:center;">
	<h1 style="color:red;">List of students</h1>
	<h:form>
		<h:commandButton value="Add a student" action="Add-student.xhtml"/>
	</h:form>
	<ui:insert name="content">
	<h:form>
		<h:dataTable border="5" value="#{studentManager.students}" var="tempStudent" style="margin-top:5px;width:100%;">
			<h:column>
			<f:facet name="header">Id</f:facet>
			#{tempStudent.id}
			</h:column>
			<h:column>
			<f:facet name="header">First name</f:facet>
			#{tempStudent.firstName}
			</h:column>
			<h:column>
			<f:facet name="header">Last name</f:facet>
			#{tempStudent.lastName}
			</h:column>
			<h:column>
			<f:facet name="header">Email</f:facet>
			#{tempStudent.email}
			</h:column>
			<h:column>
			<f:facet name="header">Actions</f:facet>
			<h:commandButton value="Edit" action="#{studentManager.loadStudent(tempStudent.id)}"/>
			<h:commandButton value="Delete" action="#{studentManager.deleteStudent(tempStudent.id)}"/>
			</h:column>
		</h:dataTable>
	</h:form>
	</ui:insert>
</body>

</html>
